# 第6课 多分支结构 <Badge type="info" text="2025-03-29" />

<QA question="什么是语句块？为什么要用它？" level="tip">

语句块就是用大括号`{}`括起来的一组语句。就像把多个积木放进一个盒子里，这样可以一起搬动它们。

**语句块的特点：**

1. 语句块里的所有语句会作为一个整体一起执行
2. 语句块可以放在另一个语句块里面（就像套娃一样）
3. 如果条件后只有一句话，可以不用大括号，但最好养成加大括号的好习惯

**为什么要用语句块？看看这个例子：**

```cpp
// 不用语句块的错误写法
if (成绩 >= 60)
    cout << "及格了" << endl;
    cout << "真棒！" << endl; // 注意：这句话总会执行，不管及不及格！

// 用语句块的正确写法
if (成绩 >= 60) {
    cout << "及格了" << endl;
    cout << "真棒！" << endl; // 这两句话都只有及格才会执行
}
```

如果不用`{}`，电脑只会把第一句话看作是if的一部分，第二句话会一直执行。

记住：**用大括号能避免很多奇怪的错误，让代码更清晰！**

</QA>

<QA question="if语句有哪三种写法？什么时候用？" level="tip">

if语句有三种基本写法，就像选择不同的岔路口：

### 1. 单分支if语句

**写法：**
```cpp
if (条件) {
    // 条件为真时才做这些事情
}
```

**什么时候用：** 只有一种特殊情况需要处理时。比如：

```cpp
if (年龄 < 12) {
    cout << "您太小了，不能玩这个游戏" << endl;
}
```

### 2. 双分支if-else语句

**写法：**
```cpp
if (条件) {
    // 条件为真时做这些事情
} else {
    // 条件为假时做这些事情
}
```

**什么时候用：** 需要在两种情况之间选择一种。比如：

```cpp
if (成绩 >= 60) {
    cout << "恭喜，你及格了！" << endl;
} else {
    cout << "没关系，继续努力！" << endl;
}
```

### 3. 多分支if-else if-else语句

**写法：**
```cpp
if (条件1) {
    // 条件1为真时做这些事情
} else if (条件2) {
    // 条件2为真时做这些事情
} else {
    // 以上条件都不满足时做这些事情
}
```

**什么时候用：** 有多种情况需要处理时。比如：

```cpp
if (成绩 >= 90) {
    cout << "优秀！" << endl;
} else if (成绩 >= 80) {
    cout << "良好！" << endl;
} else if (成绩 >= 60) {
    cout << "及格！" << endl;
} else {
    cout << "加油！" << endl;
}
```

**特别提醒：** 在多分支结构中，电脑会从上往下检查条件，找到第一个满足的条件就执行对应的代码，然后跳过后面所有的条件。

</QA>

<QA question="什么是嵌套if语句？怎么正确使用？" level="info">

嵌套if语句就是在一个if语句里面再放一个if语句，就像套娃一样。当你需要检查多个条件时，嵌套if很有用。

### 嵌套if的例子

```cpp
if (年龄 >= 12) {  // 第一个条件：检查年龄
    cout << "年龄合格" << endl;
    
    if (身高 >= 140) {  // 第二个条件：检查身高
        cout << "可以玩过山车" << endl;
    } else {
        cout << "身高不够，不能玩过山车" << endl;
    }
} else {
    cout << "年龄不够，不能玩过山车" << endl;
}
```

### 使用嵌套if时要注意什么

1. **悬空else问题**

如果不用大括号，`else`会和最近的`if`配对，这可能导致错误：

```cpp
// 错误写法
if (下雨)
    if (有伞)
        cout << "带伞出门" << endl;
else
    cout << "待在家里" << endl;  // 这个else和"有伞"配对，而不是和"下雨"配对
```

正确写法是用大括号明确表示配对关系：

```cpp
// 正确写法
if (下雨) {
    if (有伞)
        cout << "带伞出门" << endl;
} else {
    cout << "待在家里" << endl;  // 现在这个else和"下雨"配对了
}
```

2. **嵌套太多层会让代码难读**

超过3层的嵌套就很难读懂了。如果需要很多层嵌套，考虑使用其他方法，比如：

```cpp
// 使用逻辑运算符代替多层嵌套
if (年龄 >= 12 && 身高 >= 140) {
    cout << "可以玩过山车" << endl;
} else {
    cout << "不能玩过山车" << endl;
}
```

记住：保持代码简单清晰，这样就不容易出错！

</QA>

<QA question="逻辑运算符在if语句中怎么用？" level="info">

逻辑运算符可以帮我们组合多个条件，就像用胶水把条件粘在一起。最常用的有三种：

### 1. `&&`（与）：所有条件都必须为真

- 就像"**既要...又要...**"
- 只有当所有条件都满足时，整个结果才为真

```cpp
// 例子：既要年龄大于等于12，又要身高大于等于140
if (年龄 >= 12 && 身高 >= 140) {
    cout << "可以玩过山车" << endl;
}
```

### 2. `||`（或）：至少一个条件为真就行

- 就像"**要么...要么...或者...**"
- 只要有一个条件满足，整个结果就为真

```cpp
// 例子：要么有学生证，要么有身份证
if (有学生证 || 有身份证) {
    cout << "可以享受优惠" << endl;
}
```

### 3. `!`（非）：取反，真变假，假变真

- 就像"**不**"
- 把条件的结果反过来

```cpp
// 例子：如果没下雨
if (!下雨) {
    cout << "可以出去玩" << endl;
}
```

### 组合使用例子

你可以组合使用这些运算符，但要小心顺序：

```cpp
// 可以去游泳的条件：天气晴朗而且(水温适宜或者有教练在场)
if (天气晴朗 && (水温适宜 || 有教练在场)) {
    cout << "可以去游泳" << endl;
}
```

**小提示**：`&&`比`||`先执行，如果不确定，可以用括号`()`来明确先后顺序。

</QA>

<QA question="if语句的常见错误有哪些？如何避免？" level="warning">

写if语句时很容易犯一些错误，这里列出最常见的几种，以及如何避免它们：

### 1. 用`=`而不是`==`进行比较

```cpp
// 错误
if (x = 10) {  // 这会把10赋值给x，而不是比较x是否等于10
    cout << "x等于10" << endl;
}

// 正确
if (x == 10) {  // 用==进行比较
    cout << "x等于10" << endl;
}
```

**避免方法**：记住比较用`==`，赋值用`=`。

### 2. 忘记用大括号

```cpp
// 错误
if (下雨)
    cout << "带伞" << endl;
    cout << "穿雨衣" << endl;  // 这句话不受if控制，总是会执行！

// 正确
if (下雨) {
    cout << "带伞" << endl;
    cout << "穿雨衣" << endl;  // 现在这两句话都只有在下雨时才执行
}
```

**避免方法**：养成总是使用大括号的好习惯，即使只有一行代码。

### 3. if后加了分号

```cpp
// 错误
if (下雨);  // 注意这里的分号！
{
    cout << "带伞" << endl;  // 这块代码总是会执行，不管下不下雨
}

// 正确
if (下雨) {
    cout << "带伞" << endl;
}
```

**避免方法**：检查if后面是不是不小心加了分号。

### 4. 条件顺序不合理

```cpp
// 错误顺序
if (分数 >= 60) {
    cout << "及格" << endl;
} else if (分数 >= 80) {
    cout << "良好" << endl;
}  // 即使分数是85，也只会显示"及格"，因为第一个条件已经满足了

// 正确顺序
if (分数 >= 80) {
    cout << "良好" << endl;
} else if (分数 >= 60) {
    cout << "及格" << endl;
}
```

**避免方法**：在使用多个else if时，从大到小或从小到大排列条件，保持一致的顺序。

### 记住这些简单规则：

1. 比较用`==`，不是`=`
2. 总是使用大括号`{}`
3. 不要在if后面加分号`;`
4. 多条件判断时注意条件顺序
5. 代码缩进要整齐，容易看清结构

</QA> 