# 第8课 switch语句

<QA question="什么是switch语句？" level="tip" badge="重点">

`switch` 语句就像是一个智能选择器，它可以根据一个变量的值，快速跳转到对应的代码块执行。

就像自动售货机：你按 `1` 出可乐，按 `2` 出雪碧。

```cpp
int choice = 1;

switch(choice) {
    case 1: cout << "可乐"; break;
    case 2: cout << "雪碧"; break;
}
```

</QA>

<QA question="switch语句的语法是怎么样的？" level="tip" badge="重点">

switch语句的基本语法很简单，它包含以下几个部分：

```cpp
switch (表达式) {       // 要检查的变量或表达式
    case 值1:          // 如果表达式==值1
        代码块1;       // 执行这里的代码
        break;         // 跳出switch
    case 值2:
        代码块2;
        break;
    ...
    default:           // 可选，其他所有情况
        默认代码块;
}
```

**各部分解释：**

- `switch(表达式)`：表达式必须是​​整型​​（int、char）或​​枚举类型​

- `case 常量`：每个 case 相当于一个"入口标签"，后面必须跟一个常量（不能是变量）

- `break`：终止switch语句的执行，跳出switch结构

- `default`：当表达式的值不匹配任何case时，执行default后面的语句（default是可选的）

</QA>

<QA question="什么是case穿透？" level="tip" badge="重点">

`case穿透`就像滑滑梯一样，当`switch`语句中的某个`case`后面没有写`break`时，程序会从这个`case`一直往下执行，直到遇到`break`或者`switch`结束。

两种情况：
1. 故意穿透（有用）：
```cpp
int 月份 = 2;
switch(月份) {
    case 1: case 3: case 5:  // 1/3/5月共用代码
        cout << "31天";
        break;
    case 2:
        cout << "28或29天";  // 2月执行这里
        break;
    default:
        cout << "30天";
}
```

2. 忘记写break（容易出错）：
```cpp
int 选项 = 1;
switch(选项) {
    case 1: cout << "A";  // 忘记写break！
    case 2: cout << "B";  // 会继续执行这里
    case 3: cout << "C"; break;  // 到这里才停止
}
// 输出：A B C （本来只想输出A）
```

记忆口诀："break是刹车，不踩滑到底"
</QA>

<QA question="switch语句的执行流程是什么？" level="tip" badge="重点">

switch语句的执行流程如下：

1. 计算表达式的值
2. 将表达式的值与每个case的常量进行比较
3. 如果找到匹配的case，执行对应的代码块
4. 如果没有任何case匹配，执行default代码块（如果存在）
5. 执行完代码块后，程序继续往下执行

</QA>

<QA question="switch和if-else语句有什么不同？" level="tip">

`switch`和`if-else`就像选择题和问答题的区别：

1. 工作原理不同
- `switch`：直接跳转到匹配的选项（像电梯按楼层）

```cpp
switch(选项){
    case 1: 执行A; break; // 直接到1楼
    case 2: 执行B; break; // 直接到2楼
}
```
- `if-else`：逐个检查条件（像爬楼梯）

```cpp
if(条件1) { 执行A; }   // 先检查1楼
else if(条件2) { 执行B; } // 再检查2楼
```

2. 适用场景不同

|          | switch | if-else |
|----------|--------|---------|
| 固定值 | ✅ 最佳（如1,2,3） | ⚠️ 能用但啰嗦 |
| 范围判断 | ❌ 不能用 | ✅ 最佳（如>90） |
| 字符串比较 | ❌ 不能用 | ✅ 可以 |

3. 实际例子对比
```cpp
// 判断成绩等级（switch版）
char 等级 = 'B';
switch(等级){
    case 'A': cout << "优秀"; break;
    case 'B': cout << "良好"; break; // 直接跳到这里
}

// 同样逻辑用if-else
if(等级 == 'A') cout << "优秀";
else if(等级 == 'B') cout << "良好"; // 要逐个判断
```

选择建议：
- 固定选项多 → 用`switch`（更清晰）  
- 条件复杂 → 用`if-else`（更灵活）  

记忆口诀：
"固定选项switch快，复杂条件if-else来！"
</QA>