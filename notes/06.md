# 第7课 程序流程图 <Badge type="info" text="2025-04-05" />

<QA question="什么是程序流程图？为什么要学习它？" level="tip">

程序流程图是用来表示程序执行过程的图形工具，就像地图一样，告诉我们程序从哪里开始，经过哪些步骤，最后在哪里结束。

**为什么要学习流程图：**

1. 帮助我们在写代码前先规划好程序的步骤
2. 让复杂的问题变得简单明了
3. 方便与他人交流我们的想法
4. 更容易发现程序中的错误

流程图使用特定的图形符号来表示不同的操作，连线表示执行的顺序。掌握流程图，就像学会了看地图，能帮助我们更好地理解和设计程序！

</QA>

<QA question="流程图中的基本图形有哪些？它们分别代表什么？" level="tip">

流程图使用不同形状的图形来表示不同类型的操作。最常用的基本图形有：

### 1. 椭圆形 ⭕
**功能**：表示程序的开始和结束
**例子**：「开始」、「结束」

### 2. 矩形 📄
**功能**：表示处理步骤或操作
**例子**：「x = 5」、「计算总和」、「打印结果」

### 3. 菱形 💎
**功能**：表示判断或决策
**例子**：「x > 0?」、「是否继续?」

### 4. 平行四边形 📝
**功能**：表示输入或输出
**例子**：「输入成绩」、「显示结果」

### 5. 箭头线 ➡️
**功能**：表示程序执行的方向和顺序
**例子**：从一个步骤指向下一个步骤

下面是一个简单的例子，展示如何使用这些图形画一个判断成绩的流程图：

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────┐
│ 输入成绩 │
└────┬────┘
     ▼
┌─────────┐
< 成绩≥60? >─────否─────┐
└────┬────┘             │
     │                  ▼
     是          ┌─────────────┐
     │           │ 显示"不及格" │
     ▼           └───────┬─────┘
┌─────────────┐          │
│ 显示"及格"   │          │
└───────┬─────┘          │
        │                │
        ▼                │
     ┌─────┐             │
     │ 结束 │◄────────────┘
     └─────┘
```

记住这些基本图形，就能画出各种程序的流程图啦！

</QA>

<QA question="如何用流程图表示顺序结构？" level="info">

顺序结构是最简单的程序结构，就像按照菜谱一步一步做菜，程序也是按照设定的步骤从上到下依次执行。

### 顺序结构的流程图特点

1. 程序按照箭头指示的方向，从上到下依次执行
2. 没有任何分支或循环
3. 每个步骤执行完后，自动进入下一个步骤

### 顺序结构的流程图例子

下面是一个计算长方形面积的顺序结构流程图：

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────┐
│ 输入长度width│
└──────┬──────┘
       ▼
┌─────────────┐
│输入宽度height│
└──────┬──────┘
       ▼
┌───────────────────┐
│计算面积area = width * height│
└──────┬───────────┘
       ▼
┌─────────────┐
│ 显示area    │
└──────┬──────┘
       ▼
┌─────────┐
│  结束   │
└─────────┘
```

顺序结构的流程图就像一条直线，从开始到结束没有任何分叉。这是最基础的程序结构，几乎所有程序都会包含顺序结构。

</QA>

<QA question="如何用流程图表示分支结构？" level="info">

分支结构就像在路上遇到岔路口，根据条件选择不同的路径。分支结构让程序能够根据不同情况做出不同的决策。

### 分支结构的流程图特点

1. 使用菱形表示判断条件
2. 从菱形引出两条或多条路径，分别代表不同的选择
3. 通常会标明"是/否"或"真/假"指示不同的路径

### 单分支结构流程图

单分支结构只有一个判断，如果条件为真，执行某个操作；如果为假，就继续下一步。

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────┐
│ 输入x   │
└────┬────┘
     ▼
┌─────────┐
< x > 0?  >────否────┐
└────┬────┘          │
     │               │
     是              │
     │               │
     ▼               │
┌────────────┐       │
│ 输出"正数" │       │
└──────┬─────┘       │
       │             │
       ▼             │
       └─────────────┘
       │
       ▼
┌─────────┐
│  结束   │
└─────────┘
```

### 双分支结构流程图

双分支结构在判断后有两个不同的操作路径，然后再汇合到一起。

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────┐
│ 输入x   │
└────┬────┘
     ▼
┌─────────┐
< x > 0?  >────否────┐
└────┬────┘          │
     │               │
     是              │
     │               │
     ▼               ▼
┌────────────┐   ┌────────────┐
│ 输出"正数" │   │ 输出"负数或零" │
└──────┬─────┘   └──────┬─────┘
       │                │
       └────────────────┘
              │
              ▼
         ┌─────────┐
         │  结束   │
         └─────────┘
```

### 多分支结构流程图

多分支结构有多个判断条件和多个执行路径。

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────┐
│ 输入成绩score│
└──────┬──────┘
       ▼
┌───────────────┐
< score >= 90?  >───是───┐
└───────┬───────┘        │
        │                ▼
        否        ┌───────────────┐
        │         │ 输出"优秀"    │
        ▼         └─────┬─────────┘
┌───────────────┐       │
< score >= 80?  >───是───┐
└───────┬───────┘       │
        │               │
        否               │
        │                │
        ▼                │
┌───────────────┐        │
< score >= 60?  >───是───┤
└───────┬───────┘        │
        │                │
        否               │
        │                │
        ▼                │
┌───────────────┐        │
│ 输出"不及格"  │        │
└───────┬───────┘        │
        │                │
        └────────────────┘
               │
               ▼
          ┌─────────┐
          │  结束   │
          └─────────┘
```

分支结构是编程中非常重要的概念，它让程序能够做出选择，根据不同的情况执行不同的操作。

</QA>

<QA question="如何用流程图表示循环结构？" level="info">

循环结构就像是在做重复的事情，比如刷10个碗或者跑5圈。在程序中，循环结构让我们能够重复执行某些步骤，直到满足某个条件为止。

### 循环结构的流程图特点

1. 有一个判断条件（用菱形表示）
2. 有一个循环体（需要重复执行的部分）
3. 有一个返回路径，指回到判断条件
4. 有一个出口，当条件不满足时离开循环

### 当型循环流程图（先判断后执行）

当型循环先判断条件，如果条件满足才执行循环体，常用while语句实现。

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────┐
│ 初始化i = 1 │
└──────┬──────┘
       │
       ▼
       │◄───────────────┐
       │                │
┌──────┴──────┐         │
<  i <= 5 ?   >──否──┐  │
└──────┬──────┘      │  │
       │             │  │
       是            │  │
       │             │  │
       ▼             │  │
┌──────────────┐     │  │
│ 输出i的值    │     │  │
└──────┬───────┘     │  │
       │             │  │
       ▼             │  │
┌──────────────┐     │  │
│    i = i+1   │────┘  │
└──────┬───────┘        │
       │                │
       └────────────────┘
              │
              ▼
         ┌─────────┐
         │  结束   │
         └─────────┘
```

这个循环会输出1到5的数字。

### 直到型循环流程图（先执行后判断）

直到型循环先执行循环体，再判断条件，常用do-while语句实现。

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────┐
│ 初始化i = 1 │
└──────┬──────┘
       │
       ▼
┌──────────────┐
│ 输出i的值    │
└──────┬───────┘
       │
       ▼
┌──────────────┐
│    i = i+1   │
└──────┬───────┘
       │
       ▼
┌──────┴──────┐
<  i <= 5 ?   >──是──┐
└──────┬──────┘      │
       │             │
       否            │
       │             │
       └─────────────┘
              │
              ▼
         ┌─────────┐
         │  结束   │
         └─────────┘
```

这个循环也会输出1到5的数字，但即使条件一开始就不满足，循环体也会执行一次。

### 固定次数循环流程图（for循环）

固定次数循环通常用for语句实现，有明确的循环次数。

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────────────┐
│ for(i=1; i<=5; i++) │
└──────┬──────────────┘
       │
       ▼
       │◄───────────────┐
       │                │
┌──────┴──────┐         │
<  i <= 5 ?   >──否──┐  │
└──────┬──────┘      │  │
       │             │  │
       是            │  │
       │             │  │
       ▼             │  │
┌──────────────┐     │  │
│ 输出i的值    │     │  │
└──────┬───────┘     │  │
       │             │  │
       ▼             │  │
┌──────────────┐     │  │
│    i = i+1   │─────┘  │
└──────────────┘        │
                        │
                        │
                        │
              ▼         │
         ┌─────────┐    │
         │  结束   │◄───┘
         └─────────┘
```

循环结构让程序能够高效地处理重复性的任务，比如处理一组数据、进行多次计算等。理解循环结构对于解决问题非常重要！

</QA>

<QA question="怎样将多种结构组合在一起画流程图？" level="tip">

在实际编程中，我们常常需要将顺序结构、分支结构和循环结构组合在一起使用。下面来看看如何画出包含多种结构的流程图。

### 组合流程图的基本原则

1. 总是从"开始"开始，到"结束"结束
2. 按照程序的执行顺序连接各个部分
3. 可以在任何结构内部嵌套其他结构
4. 保持图形清晰，箭头方向明确

### 例子：求1到n的和

这个例子结合了顺序结构和循环结构：

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────┐
│ 输入正整数n │
└──────┬──────┘
       ▼
┌─────────────┐
│ 初始化sum=0 │
│ 初始化i=1   │
└──────┬──────┘
       ▼
       │◄───────────────┐
       │                │
┌──────┴──────┐         │
<  i <= n ?   >──否──┐  │
└──────┬──────┘      │  │
       │             │  │
       是            │  │
       │             │  │
       ▼             │  │
┌──────────────┐     │  │
│ sum = sum + i │    │  │
└──────┬───────┘     │  │
       │             │  │
       ▼             │  │
┌──────────────┐     │  │
│    i = i+1   │─────┘  │
└──────┬───────┘        │
       │                │
       └────────────────┘
              │
              ▼
┌─────────────────┐
│ 输出"和为:sum"  │
└────────┬────────┘
         ▼
    ┌─────────┐
    │  结束   │
    └─────────┘
```

### 例子：判断是否为质数

这个例子结合了顺序结构、分支结构和循环结构：

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────┐
│ 输入正整数n │
└──────┬──────┘
       ▼
┌─────────────────┐
< n <= 1 ?        >──是──┐
└───────┬─────────┘      │
        │                ▼
        否        ┌──────────────────┐
        │         │ 输出"不是质数"   │
        ▼         └────────┬─────────┘
┌─────────────────┐        │
│ 初始化i=2       │        │
│ 初始化isPrime=true│      │
└───────┬─────────┘        │
        ▼                  │
        │◄─────────────┐   │
        │              │   │
┌───────┴─────────┐    │   │
< i*i <= n 且     >──否─┐  │
< isPrime为true?  >     │  │
└───────┬─────────┘     │  │
        │               │  │
        是              │  │
        │               │  │
        ▼               │  │
┌─────────────────┐     │  │
< n % i == 0 ?    >──是─┐  │
└───────┬─────────┘     │  │
        │               │  │
        否              │  │
        │               │  │
        ▼               ▼  │
┌─────────────────┐ ┌──────────────┐
│     i = i+1     │ │isPrime=false │
└───────┬─────────┘ └──────┬───────┘
        │                  │
        └──────────────────┘
                │
                │
                ▼
┌─────────────────────┐
< isPrime为true?      >──是──┐
└──────────┬──────────┘      │
           │                 ▼
           否         ┌──────────────┐
           │          │输出"是质数"  │
           ▼          └──────┬───────┘
┌─────────────────┐          │
│输出"不是质数"   │          │
└─────────┬───────┘          │
          │                  │
          └──────────────────┘
                   │
                   ▼
              ┌─────────┐
              │  结束   │
              └─────────┘
```

### 设计复杂流程图的小技巧

1. **先设计大框架**：先确定主要流程，再填充细节
2. **分模块设计**：将复杂程序分成多个功能模块，每个模块单独设计流程图
3. **保持清晰**：如果流程图太复杂，考虑分成多个简单的流程图
4. **避免交叉线**：尽量避免箭头线交叉，使流程图更易读
5. **使用一致的风格**：图形大小、线条粗细、文字位置等保持一致

掌握了如何组合不同的结构，我们就能画出表示复杂算法的流程图啦！

</QA>

<QA question="用流程图解决实际问题的步骤是什么？" level="warning">

将实际问题转化为流程图，可以帮助我们更好地理解问题和设计解决方案。下面是用流程图解决实际问题的基本步骤：

### 步骤1：理解问题
首先要弄清楚问题是什么，需要什么输入，期望什么输出。

### 步骤2：分解问题
把大问题分解成小问题，每个小问题对应一个处理步骤。

### 步骤3：确定程序流程
思考解决问题的逻辑顺序，确定需要用到哪些基本结构（顺序、分支、循环）。

### 步骤4：画出流程图
使用标准图形符号画出程序的流程图。

### 步骤5：检查流程图
检查流程图是否完整、正确，是否处理了所有可能的情况。

### 例子：计算学生成绩等级

**问题**：根据学生的成绩计算等级，90分以上为A，80-89分为B，70-79分为C，60-69分为D，60分以下为E。

**步骤1：理解问题**
- 输入：学生成绩
- 输出：成绩等级(A, B, C, D, E)

**步骤2：分解问题**
1. 输入成绩
2. 判断成绩所属范围
3. 输出相应等级

**步骤3：确定程序流程**
这是一个典型的分支结构问题，需要多个条件判断。

**步骤4：画出流程图**

```
┌─────────┐
│  开始   │
└────┬────┘
     ▼
┌─────────────┐
│输入成绩score│
└──────┬──────┘
       ▼
┌───────────────┐
< score >= 90?  >───是───┐
└───────┬───────┘        │
        │                ▼
        否        ┌───────────────┐
        │         │ 输出等级"A"   │
        ▼         └─────┬─────────┘
┌───────────────┐       │
< score >= 80?  >───是───┐
└───────┬───────┘       │
        │               ▼
        否        ┌───────────────┐
        │         │ 输出等级"B"   │
        ▼         └─────┬─────────┘
┌───────────────┐       │
< score >= 70?  >───是───┐
└───────┬───────┘       │
        │               ▼
        否        ┌───────────────┐
        │         │ 输出等级"C"   │
        ▼         └─────┬─────────┘
┌───────────────┐       │
< score >= 60?  >───是───┐
└───────┬───────┘       │
        │               ▼
        否        ┌───────────────┐
        │         │ 输出等级"D"   │
        ▼         └─────┬─────────┘
┌───────────────┐       │
│ 输出等级"E"   │       │
└───────┬───────┘       │
        │               │
        └───────────────┘
               │
               ▼
          ┌─────────┐
          │  结束   │
          └─────────┘
```

**步骤5：检查流程图**
- 是否处理了所有可能的成绩范围？是的
- 每个分支的判断条件是否正确？是的
- 流程是否有明确的开始和结束？是的

### 练习小提示

1. 从简单问题开始练习，逐渐过渡到复杂问题
2. 先用自然语言描述解决步骤，再转换为流程图
3. 多尝试不同的解决方案，比较哪一个更简洁高效
4. 实际编写代码之前，先在纸上画出流程图
5. 学习分析现有程序的流程图，理解他人的思路

通过流程图这个工具，我们可以把复杂的问题变得更加清晰，为编写程序打下良好的基础！

</QA> 