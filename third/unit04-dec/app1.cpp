/**
 * 习题思路
 */




// 普通试除法
bool 是素数吗(int 目标数字) {

    // 1. 处理小于2的特殊情况（1、0、负数都不是素数）
    if (目标数字 < 2) {
        return false; // 不是素数
    }

    // 2. 从2开始，检查到平方根就足够
    for (int 除数 = 2; 除数 * 除数 <= 目标数字; 除数++) {

        // 3. 如果能被整除，就不是素数
        if (目标数字 % 除数 == 0) {
            return false;  // 找到因数，不是素数，提前返回
        }

    }

    // 4. 循环结束，未找到因数
    return true; // 是素数
}


// 埃拉托斯特尼筛法（埃氏筛）
vector<bool> 埃氏筛(int 上限) {
    // 1. 初始化标记数组
    vector<bool> 是否素数(上限 + 1, true);
    是否素数[0] = 是否素数[1] = false;  // 0和1不是素数

    // 2. 主循环（核心：从2开始标记倍数）
    for (int 当前数 = 2; 当前数 * 当前数 <= 上限; 当前数++) {
        // 如果当前数是素数，才标记其倍数
        if (是否素数[当前数]) {
            // 标记当前数的所有倍数
            for (int 倍数 = 当前数 + 当前数; 倍数 <= 上限; 倍数 += 当前数) {
                是否素数[倍数] = false;  // 标记为合数
            }
        }
    }

    return 是否素数;  // 返回标记数组
}


// 欧拉筛
vector<bool> 欧拉筛(int 上限) {
    // 1. 初始化标记数组
    vector<bool> 是否素数(上限 + 1, true);
    是否素数[0] = 是否素数[1] = false;  // 0和1不是素数

    vector<int> 素数列表;  // 临时存放素数

    // 2. 主循环：遍历2到上限的所有数字
    for (int 当前数 = 2; 当前数 <= 上限; 当前数++) {
        // 3. 判断当前数是否为素数
        if (是否素数[当前数]) {
            素数列表.push_back(当前数);  // 记录素数
        }

        // 4. 用已找到的素数筛选
        for (int 索引 = 0; 索引 < 素数列表.size(); 索引++) {
            int 素数 = 素数列表[索引];
            int 倍数 = 当前数 * 素数;

            // 超出范围则停止
            if (倍数 > 上限) break;

            // 标记合数
            是否素数[倍数] = false;

            // 关键优化：保证每个合数只被标记一次
            if (当前数 % 素数 == 0) {
                break;  // 跳出内层循环
            }
        }
    }

    // 5. 返回标记数组
    return 是否素数;
}

